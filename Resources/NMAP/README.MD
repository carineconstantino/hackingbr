```
## Comandos para scan API 

# General Detection Scan 
Usa scripts padrão '-sC'

nmap -sC -sV [IP or network range] -oA nameofoutput

# Scan All Ports

nmap -p- [IP] -oA allportscan

# HTTP Enum Script

nmap -sV --script=http-enum <target> -p 80,443,8000,8080
```
```
NOT-PORT Scan (-sn): executa apenas ping

## Ping Scan (Ping Sweep)

nmap -sn [rede] 

## Salva o resultado em 3 formatos oN .nmap, oG .gnmap, oX .xml

nmap [192.168.0.1-20] -sn -oA tnet | grep for | cut -d" " -f5

## Scan Múltiplos IPs

nmap -sn -oA tnet [IP1 IP2 IP3] | grep for | cut -d " " -f5

## Mostra a resposta dos hosts ao scan realizado

nmap [rede] -sn -PE --reason

## Desabilitar o ARP-Ping durante o scan 

nmap [rede] -sc -PE --disable-arp-ping --packet-trace

## Scan Range de Portas

nmap -p 1-1000

## Identifica o sistema operacional 

nmap -O 

nmap -O --osscan-guess

## Identifica a versão do serviço

nmap -sV 

## TCP Connect 

nmap -sT

## Custom Top-Ports

nmap -sT -A --top-ports=20 [IP] -oG [file-output.txt]

## Scan dentro do Metasploit

db_nmap -sV [IP]

## Ver informação sobre o script 

nmap --script-help [nome-do-script]

## Executa scripts padrão 

nmap -sC 

## Categoria Discovery

nmap [IP] --script=discovery

## Scan a partir de uma lista de hosts

nmap -iL [nome-do-arquivo]
```

## UDP Scan
```
nmap -sU

nmap [IP] -p 1-250 -sU

nmap [IP] -p [porta] -sUV

nmap [IP] -p [porta] -sU --script=discovery
```

## Formato de Output
```
nmap -oN teste.txt

## Formato Customizado de Lista

nmap -sn -oA tnet -iL hosts.lst | grep for | cut -d "" -f5 

## XML

nmap -oX 

## Cria Relatório em HTML a partir do XML

xslproc hosts.xml -o target.html 

### Grep Opções

grep open web-sweep.txt | cut -d" " -f2

grep Up ping-sweep.txt | cut -d " " -f 2
```

## Importar o resultado do scan para o Metasploit
```
## Inicia o postgresql 

service postgresql start

## Verifica o status da conexão do MSF com o Postgresql

db_status

## Importa o resultado do NMAP para o MSF

db_import [nmap-output-xml]

## Verifica os hosts importados 

host 

## Verifica os serviços 

service 
```
